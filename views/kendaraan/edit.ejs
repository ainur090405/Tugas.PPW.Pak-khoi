<%- include('../partials/_head') %>
<div class="container mt-5">
  <h2>Edit Kendaraan</h2>

  <form action="/kendaraan/update/<%= kendaraan.id_kendaraan %>" method="POST" class="card p-4">
    <div class="mb-3">
      <label for="opol" class="form-label">Plat Nomor</label>
      <input type="text" class="form-control" id="opol" name="opol" value="<%= kendaraan.opol %>" required>
    </div>

    <div class="mb-3">
      <label for="type" class="form-label">Type Kendaraan</label>
      <input type="text" class="form-control" id="type" name="type" value="<%= kendaraan.type %>" required>
    </div>

    <div class="mb-3">
      <label for="warna" class="form-label">Warna</label>
      <input type="text" class="form-control" id="warna" name="warna" value="<%= kendaraan.warna %>" required>
    </div>

    <div class="mb-3">
      <label for="tarif" class="form-label">Tarif</label>
      <select name="tarif_id" id="tarif" class="form-select" required>
        <% tarif.forEach(t => { %>
          <option value="<%= t.id_tarif %>" <%= t.id_tarif === kendaraan.tarif_id ? 'selected' : '' %>>
            <%= t.harga %> / <%= t.satuan_waktu %>
          </option>
        <% }) %>
      </select>
    </div>

    <div class="mb-3">
      <label for="status" class="form-label">Status</label>
      <select name="status" id="status" class="form-select" required>
        <option value="tersedia" <%= kendaraan.status === 'tersedia' ? 'selected' : '' %>>Tersedia</option>
        <option value="dipakai" <%= kendaraan.status === 'dipakai' ? 'selected' : '' %>>Dipakai</option>
        <option value="perbaikan" <%= kendaraan.status === 'perbaikan' ? 'selected' : '' %>>Perbaikan</option>
      </select>
    </div>

    <button type="submit" class="btn btn-primary">Update</button>
    <a href="/kendaraan" class="btn btn-secondary">Batal</a>
  </form>
</div>
<%- include('../partials/_foot') %>
